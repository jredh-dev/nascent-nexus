---
import MagicBar from './MagicBar';

interface Props {
  loggedIn?: boolean;
  userName?: string;
}

const { loggedIn = false, userName = 'Account' } = Astro.props;
---

<!-- Primary transparent navbar -->
<nav class="navbar is-fresh" role="navigation" aria-label="main navigation">
    <div class="container">
        <div class="navbar-brand">
            <a class="navbar-item has-text-weight-bold is-size-5" href="/" style="color: var(--fresh-dark); font-family: 'Montserrat', sans-serif;">
                Hooper Development
            </a>
            <a role="button" class="navbar-burger" aria-label="menu" aria-expanded="false" data-target="mainNavbar">
                <span aria-hidden="true"></span>
                <span aria-hidden="true"></span>
                <span aria-hidden="true"></span>
                <span aria-hidden="true"></span>
            </a>
        </div>
        <div id="mainNavbar" class="navbar-menu">
            <div class="navbar-start">
                <div class="navbar-item magic-bar">
                    <MagicBar client:load />
                </div>
            </div>
            <div class="navbar-end">
                {loggedIn ? (
                    <div class="navbar-item has-dropdown is-hoverable">
                        <a class="navbar-link">
                            <span class="icon"><i class="fas fa-user-circle"></i></span>
                            <span>{userName}</span>
                        </a>
                        <div class="navbar-dropdown is-right">
                            <a class="navbar-item" href="/dashboard">
                                <span class="icon"><i class="fas fa-user"></i></span>
                                <span>Profile</span>
                            </a>
                            <hr class="navbar-divider">
                            <a class="navbar-item" href="/logout">
                                <span class="icon"><i class="fas fa-sign-out-alt"></i></span>
                                <span>Logout</span>
                            </a>
                        </div>
                    </div>
                ) : (
                    <div class="navbar-item">
                        <a class="button primary-btn is-rounded cta" href="/login">
                            Login
                        </a>
                    </div>
                )}
            </div>
        </div>
    </div>
</nav>

<!-- Fixed navbar clone (appears on scroll) -->
<nav id="navbar-clone" class="navbar is-fresh" role="navigation" aria-label="main navigation">
    <div class="container">
        <div class="navbar-brand">
            <a class="navbar-item has-text-weight-bold is-size-5" href="/" style="color: var(--fresh-dark); font-family: 'Montserrat', sans-serif;">
                Hooper Development
            </a>
            <a role="button" class="navbar-burger" aria-label="menu" aria-expanded="false" data-target="cloneNavbar">
                <span aria-hidden="true"></span>
                <span aria-hidden="true"></span>
                <span aria-hidden="true"></span>
                <span aria-hidden="true"></span>
            </a>
        </div>
        <div id="cloneNavbar" class="navbar-menu">
            <div class="navbar-start">
                <div class="navbar-item magic-bar">
                    <MagicBar client:load />
                </div>
            </div>
            <div class="navbar-end">
                {loggedIn ? (
                    <div class="navbar-item has-dropdown is-hoverable">
                        <a class="navbar-link">
                            <span class="icon"><i class="fas fa-user-circle"></i></span>
                            <span>{userName}</span>
                        </a>
                        <div class="navbar-dropdown is-right">
                            <a class="navbar-item" href="/dashboard">
                                <span class="icon"><i class="fas fa-user"></i></span>
                                <span>Profile</span>
                            </a>
                            <hr class="navbar-divider">
                            <a class="navbar-item" href="/logout">
                                <span class="icon"><i class="fas fa-sign-out-alt"></i></span>
                                <span>Logout</span>
                            </a>
                        </div>
                    </div>
                ) : (
                    <div class="navbar-item">
                        <a class="button primary-btn is-rounded cta" href="/login">
                            Login
                        </a>
                    </div>
                )}
            </div>
        </div>
    </div>
</nav>
