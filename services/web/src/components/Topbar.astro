---
/**
 * Minimal top bar for subpages: brand link + compact MagicBar + language switcher.
 * Replaces the old Navbar on all non-homepage pages.
 */
import MagicBar from './MagicBar';
import LanguageSwitcher from './LanguageSwitcher.astro';
import { isLocale, type Locale } from '../i18n/config';
import { t, localePath, getMagicBarTranslations } from '../i18n/utils';

interface Props {
  locale?: Locale;
}

const { locale = 'en' } = Astro.props;
const magicBarI18n = getMagicBarTranslations(locale);
---

<div class="page-topbar">
    <a class="page-topbar-brand" href={localePath(locale, '/')}>{t(locale, 'brand')}</a>
    <MagicBar client:load i18n={magicBarI18n} />
    <LanguageSwitcher locale={locale} />
</div>
