---
/**
 * Language switcher â€” shows alternate locale links in the topbar.
 */
import { locales, localeNames, type Locale } from '../i18n/config';
import { switchLocalePath } from '../i18n/utils';

interface Props {
  locale: Locale;
}

const { locale } = Astro.props;
const currentPath = Astro.url.pathname;
const otherLocales = locales.filter(l => l !== locale);
---

<div class="lang-switcher">
    {otherLocales.map(l => (
        <a class="lang-switcher-link" href={switchLocalePath(currentPath, l)} title={localeNames[l]}>
            {l.toUpperCase()}
        </a>
    ))}
</div>

<style>
    .lang-switcher {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        margin-left: 0.75rem;
    }
    .lang-switcher-link {
        font-size: 0.75rem;
        font-weight: 600;
        letter-spacing: 0.05em;
        color: var(--fresh-muted);
        text-decoration: none;
        padding: 0.25rem 0.5rem;
        border-radius: 4px;
        transition: color 0.15s, background 0.15s;
    }
    .lang-switcher-link:hover {
        color: var(--fresh-primary);
        background: rgba(0, 0, 0, 0.04);
    }
</style>
