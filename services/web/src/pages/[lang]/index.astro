---
import Base from '../../layouts/Base.astro';
import MagicBar from '../../components/MagicBar';
import { isLocale, type Locale } from '../../i18n/config';
import { t, getMagicBarTranslations } from '../../i18n/utils';

const { lang } = Astro.params;
if (!lang || !isLocale(lang)) return Astro.redirect('/en/', 302);
const locale = lang as Locale;

const magicBarI18n = getMagicBarTranslations(locale);
---

<Base minimal={true} lang={locale}>
    <div class="home">
        <div class="home-center">
            <h1 class="home-brand">{t(locale, 'home.brand')}</h1>
            <MagicBar client:load hero={true} i18n={magicBarI18n} />
        </div>
    </div>
</Base>

<style>
    .home {
        display: flex;
        align-items: center;
        justify-content: center;
        min-height: 100vh;
        padding: 2rem;
    }
    .home-center {
        text-align: center;
        width: 100%;
        max-width: 640px;
    }
    .home-brand {
        font-family: "Montserrat", sans-serif;
        font-weight: 700;
        font-size: 2.2rem;
        color: var(--fresh-dark);
        margin-bottom: 2rem;
        letter-spacing: -0.02em;
    }
    @media screen and (max-width: 768px) {
        .home-brand {
            font-size: 1.6rem;
            margin-bottom: 1.5rem;
        }
    }
</style>
